<div class="ui-fluid">
    <div class="ui-g">
        <div class="ui-grid-row ui-g-12 topbarsticky">
            <td style="padding-left:5px; float: left; position: absolute; top: 0px">
                <h1>Product Detail</h1>
            </td>
            <td *ngIf="!show" style="padding-left:5px; float: right; padding-top: 5px">
                <button pButton type="button" label="Edit" class="ui-button-warning"
                    (click)="onEdit()" style="width: 8em"></button>
            </td>
            <td *ngIf="!show" style="padding-left:5px; float: right; padding-top: 5px">
                <button pButton type="button" class="ui-button-secondary" style="width: 8em" label="Back"
                    (click)="back()">
                </button>
            </td>
            <td *ngIf="show" style="padding-left:5px; float: right; padding-top: 5px">
                <button pButton type="button" class="ui-button-success" style="width: 8em" label="Save"
                    (click)="updateProduct()">
                </button>
            </td>
            <td *ngIf="show" style="padding-left:5px; float: right; padding-top: 5px">
                <button pButton type="button" class="ui-button-secondary" style="width: 8em" label="Cancel"
                    (click)="cancel()">
                </button>
            </td>
        </div>

        <div class="card ui-lg-12 ui-md-12" *ngIf="dataAvailable">
            <mat-horizontal-stepper (selectionChange)="onChange($event)" #stepper="matHorizontalStepper"
                labelPosition="bottom">
                <mat-step [stepControl]="firstFormGroup">
                    <ng-template matStepLabel>Product Information</ng-template>
                    <div class="ui-g">
                        <h2>Product Information</h2>
                    </div>

                    <form [formGroup]="firstFormGroup">
                        <div class="ui-g-12 ui-lg-6 ui-md-6">
                            <!-- <div class="ui-g-12"> -->
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Product Name
                                    <span *ngIf="show" style="color:red">*</span>
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="text" placeholder="Input product name"
                                        formControlName="productName">
                                </div>
                                <div class="ui-g-12 ui-g-nopad"
                                    *ngIf="!firstFormGroup.controls['productName'].valid
                                                    && (firstFormGroup.controls['productName'].dirty
                                                    || firstFormGroup.controls['productName'].touched || firstFormGroup.controls['productName'].submitted)">
                                    <div class="ui-g-4 ui-lg-4 ui-md-4"></div>
                                    <div class="ui-g-8 ui-lg-8 ui-md-8">
                                        <p-message severity="error"
                                            [text]="firstFormGroup.controls ['productName'].errors['required'] ? 'Product Name Is Required' : ''">
                                        </p-message>
                                    </div>
                                </div>
                            </div>

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Product Type
                                    <span *ngIf="show" style="color:red">*</span>
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <p-autoComplete [suggestions]="filteredPrdType"
                                        (completeMethod)="filterProductTypes($event)" [minLength]="1"
                                        placeholder="Choose product type" [dropdown]="true"
                                        formControlName="productType">
                                    </p-autoComplete>
                                </div>
                                <div class="ui-g-12 ui-g-nopad"
                                    *ngIf="!firstFormGroup.controls['productType'].valid
                                                    && (firstFormGroup.controls['productType'].dirty
                                                    || firstFormGroup.controls['productType'].touched || firstFormGroup.controls['productType'].submitted)">
                                    <div class="ui-g-4 ui-lg-4 ui-md-4"></div>
                                    <div class="ui-g-8 ui-lg-8 ui-md-8">
                                        <p-message severity="error"
                                            [text]="firstFormGroup.controls ['productType'].errors['required'] ? 'Type Is Required' : ''">
                                        </p-message>
                                    </div>
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Description
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="text" placeholder="Input product description"
                                        formControlName="description">
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Valid Date
                                    <span *ngIf="show" style="color:red">*</span>
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 ui-g-nopad">
                                    <div class="ui-g-12 ui-lg-5 ui-md-5 form-field">
                                        <p-calendar placeholder="From" appendTo="body" [monthNavigator]="true"
                                            formControlName="startDate" [yearNavigator]="true" yearRange="1930:2030"
                                            dateFormat="dd-M-yy"></p-calendar>
                                    </div>
                                    <div class="ui-g-12 ui-lg-2 ui-md-2 form-field"
                                        style="margin-top: 3px; text-align: center; font-size: large">
                                        -
                                    </div>
                                    <div class="ui-g-12 ui-lg-5 ui-md-5 form-field">
                                        <p-calendar placeholder="To" appendTo="body" [monthNavigator]="true"
                                            formControlName="endDate" [yearNavigator]="true" yearRange="1930:2030"
                                            dateFormat="dd-M-yy">
                                        </p-calendar>
                                    </div>
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad"
                                *ngIf="!firstFormGroup.controls['startDate'].valid &&
                                        (firstFormGroup.controls['startDate'].dirty || firstFormGroup.controls['startDate'].touched) || !firstFormGroup.controls['endDate'].valid &&
                                        (firstFormGroup.controls['endDate'].dirty || firstFormGroup.controls['endDate'].touched)">
                                <div class="ui-g-4 ui-lg-4 ui-md-4">
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8  ui-g-nopad">
                                    <div class="ui-g-12 ui-lg-6 ui-md-6"
                                        *ngIf="!firstFormGroup.controls['startDate'].valid && (firstFormGroup.controls['startDate'].dirty || firstFormGroup.controls['startDate'].touched)">
                                        <p-message severity="error"
                                            [text]="firstFormGroup.controls['startDate'].errors['required'] ? 'Start Date Is Required' : ''">
                                        </p-message>

                                    </div>
                                    <div class="ui-g-12 ui-lg-6 ui-md-6"
                                        *ngIf="!firstFormGroup.controls['endDate'].valid && (firstFormGroup.controls['endDate'].dirty || firstFormGroup.controls['endDate'].touched)">
                                        <p-message severity="error"
                                            [text]="firstFormGroup.controls['endDate'].errors['required'] ? 'End Date Is Required' : ''">
                                        </p-message>
                                    </div>
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Priority
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="number" placeholder="Number of priority"
                                        formControlName="priority">
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4">
                                    Is Active
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8">
                                    <ui-switch checkedLabel="Yes" uncheckedLabel="No" size="small"
                                        formControlName="isActive" color="#007bff"
                                        [ngStyle]="{'color': firstFormGroup.get('isActive').value ? 'white' : '#333'}">
                                    </ui-switch>
                                </div>
                            </div>
                            <!-- </div> -->
                        </div>
                    </form>

                    <form [formGroup]="firstFormGroup">
                        <div class="ui-g-12">
                            <td style="padding-left:5px; padding-top: 5px; float: right">
                                <button pButton type="submit" label="Next" class="ui-button-primary" style="width: 8em"
                                    matStepperNext></button>
                            </td>
                            <!-- <td style="padding-top: 5px; float: right">
                                            <button pButton label="Discard" class="ui-button-secondary" style="width: 8em"
                                                (click)="firstFormGroup.reset()"></button>
                                        </td> -->
                        </div>
                    </form>
                </mat-step>

                <mat-step>
                    <ng-template matStepLabel>Product Parameter</ng-template>
                    <div class="ui-g">
                        <h2>Product Parameter</h2>
                    </div>

                    <div *ngIf="show" class="ui-g-12 ui-lg-6 ui-md-6">
                        <!-- <div class="ui-g-12"> -->
                        <div class="ui-g-12">
                            <h3>Add Product Parameter</h3>
                        </div>
                        <div class="ui-g-12 ui-g-nopad">
                            <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                Amount
                            </div>
                            <div class="ui-g-8 ui-g-nopad">
                                <div class="ui-g-5 ui-lg-5 ui-md-5 form-field">
                                    <input pInputText type="text" placeholder="Minimal amount" [(ngModel)]="minAmount"
                                        [ngModelOptions]="{standalone: true}" currencyMask
                                        [options]="amountOpt">
                                </div>
                                <div class="ui-g-2 ui-lg-2 ui-md-2 form-field"
                                    style="margin-top: 3px; text-align: center; font-size: large">
                                    -
                                </div>
                                <div class="ui-g-5 ui-lg-5 ui-md-5 form-field">
                                    <input pInputText type="text" placeholder="Maximal amount" [(ngModel)]="maxAmount"
                                        [ngModelOptions]="{standalone: true}" currencyMask
                                        [options]="amountOpt">
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-g-nopad">
                            <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                Tenor
                            </div>
                            <div class="ui-g-8 ui-g-nopad">
                                <div class="ui-g-5 ui-lg-5 ui-md-5 form-field">
                                    <input pInputText type="text" placeholder="Tenor" [(ngModel)]="minTenor"
                                        [ngModelOptions]="{standalone: true}">
                                </div>
                                <div class="ui-g-2 ui-lg-2 ui-md-2 form-field"
                                    style="margin-top: 3px; text-align: center; font-size: large">
                                    -
                                </div>
                                <div class="ui-g-5 ui-lg-5 ui-md-5 form-field">
                                    <input pInputText type="text" placeholder="Maximal tenor" [(ngModel)]="maxTenor"
                                        [ngModelOptions]="{standalone: true}">
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-g-nopad">
                            <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                Interest Rate
                            </div>
                            <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                <input pInputText type="text" placeholder="Interest rate" [(ngModel)]="interestRate"
                                    [ngModelOptions]="{standalone: true}" currencyMask
                                    [options]="amountPercent">
                            </div>
                        </div>
                        <div class="ui-g-12 ui-g-nopad">
                            <div class="ui-g-4 ui-lg-4 ui-md-4">
                                Is Active
                            </div>
                            <div class="ui-g-8 ui-lg-8 ui-md-8">
                                <ui-switch checkedLabel="Yes" uncheckedLabel="No" size="small"
                                    [(ngModel)]="parameterActive" [ngModelOptions]="{standalone: true}" color="#007bff"
                                    [ngStyle]="{'color': parameterActive ? 'white' : '#333'}">
                                </ui-switch>
                            </div>
                        </div>
                        <!-- </div> -->
                    </div>

                    <div *ngIf="show" class="ui-g-12">
                        <!-- <div class="ui-g-12" style="float:right" (ngSubmit)="onNextStep2()"> -->
                        <td style="padding-left:5px; float: right;">
                            <button pButton label="Add" class="ui-button-primary" style="width: 8em"
                                (click)="addParam()"></button>
                        </td>
                        <td style="padding-left:5px; float: right;">
                            <button pButton label="Discard" class="ui-button-secondary" style="width: 8em"
                                (click)="discardParameter();"></button>
                        </td>
                        <!-- </div> -->
                    </div>

                    <div class="ui-g-12" style="margin-top: 10px;">
                        <hr>
                    </div>

                    <div class="ui-g-12">
                        <div>
                            <!-- <div class="ui-g-12"> -->
                            <p-dataView #dvParam [value]="tableParameters" [paginator]="true" [rows]="10"
                                filterBy="minAmount,maxAmount" [rowsPerPageOptions]="[10,25,50]">
                                <p-header>
                                    <div class="ui-helper-clearfix">
                                        <div class="ui-g">
                                            <div class="ui-g-12" style="font-weight: normal">
                                                What are you looking for?
                                            </div>
                                            <div class="ui-g-12 ui-md-6">
                                                <div class="ui-inputgroup">
                                                    <input type="search" pInputText
                                                        placeholder="Type keyword search here..."
                                                        [(ngModel)]="searchQueryParameter"
                                                        (keyup.enter)="dvParam.filter(searchQueryParameter)">
                                                    <button pButton class="ui-button-info" label="Search"
                                                        (click)="dvParam.filter(searchQueryParameter)"
                                                        style="width: 8em"></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </p-header>
                                <ng-template let-parameter let-ri="rowIndex" pTemplate="listItem">
                                    <div class="ui-g"
                                        style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                        <div class="ui-g-12 ui-lg-2 ui-md-2" style="text-align: center">
                                            <div class="ui-g">
                                                <div class="ui-g-12"><b>#{{ri + 1}}</b></div>
                                            </div>
                                        </div>
                                        <div class="ui-g-12 ui-lg-8 ui-md-8">
                                            <div class="ui-g-4">
                                                Amount:
                                                {{parameter['minAmount'] | currency:'IDR':'symbol-narrow':'1.2-2':'id-ID'}}-{{parameter['maxAmount'] | currency:'IDR':'symbol-narrow':'1.2-2':'id-ID'}}
                                            </div>
                                            <div class="ui-g-4">
                                                Tenor: {{parameter['minTenor']}}-{{parameter['maxTenor']}} Month
                                            </div>
                                            <div class="ui-g-4">
                                                Interest Rate: {{parameter['interestRate']}}%
                                            </div>
                                        </div>
                                        <div class="ui-g-12 ui-md-2">
                                            <div class="ui-g" style="text-align: center">
                                                <div class="ui-g-12">
                                                    <b>{{parameter.isActive ? 'Active' : 'Inactive'}}</b>
                                                </div>
                                                <div *ngIf="show" class="ui-g-12">
                                                    <span class="fa fa-trash" style="font-size: 1.2em; cursor: pointer"
                                                        (click)="deleteParameter(parameter.id)"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                                <p-footer>
                                    <h4 style="text-align: center">This product has listed
                                        {{tableParameters?.length}} parameter</h4>
                                </p-footer>
                            </p-dataView>
                        </div>
                        <!-- </div> -->
                    </div>

                    <div class="ui-g-12">
                        <td style="padding-left:5px; padding-top: 5px; float: right">
                            <button pButton label="Next" class="ui-button-primary"
                                style="width: 8em" matStepperNext></button>
                        </td>
                        <td style="padding-top: 5px;">
                            <button pButton label="Back" class="ui-button-secondary" style="width: 8em"
                                matStepperPrevious></button>
                        </td>
                    </div>

                </mat-step>

                <mat-step [stepControl]="thirdFormGroup">
                    <form [formGroup]="thirdFormGroup">
                        <ng-template matStepLabel>Product Fee</ng-template>

                        <div class="ui-g">
                            <h2>Product Fee</h2>
                        </div>

                        <div *ngIf="show" class="ui-g-12 ui-lg-6 ui-md-6">

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4">
                                    Product Fee Category
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8">
                                    <p-autoComplete [suggestions]="filteredFee" (completeMethod)="filterFees($event)"
                                        [size]="30" [minLength]="1" placeholder="Choose fee category name"
                                        [dropdown]="true" formControlName="feeCategoryName" (onSelect)="getFee()">
                                    </p-autoComplete>
                                </div>
                            </div>
                        </div>

                    </form>
                    <div *ngIf="showFeeProperty">
                        <div class="ui-g-12">
                            <div class="ui-g" style="padding: 1em; border: 1px solid #d9d9d9">
                                <div class="ui-g-12"><b>{{fee.feeCategoryName}}</b></div>
                                <div class="ui-g-12">
                                    <table style="width: 100%">
                                        <tr *ngFor="let property of fee.fee">
                                            <td style="width: 20%; padding: 1em">{{property.typeName}}
                                            </td>
                                            <td style="width: 25%; padding: 1em">{{property.chargingBasis}}</td>
                                            <td style="width: 35%; padding: 1em">
                                                {{property.parameterType}}
                                            </td>
                                            <td style="width: 20%; padding: 1em">
                                                {{property.value}}{{property.parameterType !== 'Fixed Amount' ? '%' : ''}}
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12">
                            <td style="padding-left:5px; float: right;">
                                <button pButton label="Add" class="ui-button-primary" style="width: 8em"
                                    (click)="addFee()"></button>
                            </td>
                        </div>
                    </div>

                    <div class="ui-g-12" style="margin-top: 10px;" *ngIf="showFeeProperty">
                        <hr>
                    </div>

                    <div class="ui-g-12">
                        <p-dataView #dvFee [value]="tableFees" [paginator]="true" [rows]="rows"
                            filterBy="feeCategoryName" [rowsPerPageOptions]="rowsOptions">
                            <p-header>
                                <div class="ui-helper-clearfix">
                                    <div class="ui-g">
                                        <div class="ui-g-12" style="font-weight: normal">
                                            What are you looking for?
                                        </div>
                                        <div class="ui-g-12 ui-md-6">
                                            <div class="ui-inputgroup">
                                                <input type="search" pInputText
                                                    placeholder="Type keyword search here..."
                                                    [(ngModel)]="searchQueryFee">
                                                <button pButton class="ui-button-info" label="Search"
                                                    (click)="dvFee.filter(searchQueryFee)" style="width: 8em"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p-header>
                            <ng-template let-fee pTemplate="listItem">
                                <div class="ui-g"
                                    style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                    <div class="ui-g-12">
                                        <div class="ui-g-11" style="font-size: medium">
                                            <b>{{fee.feeCategoryName}}</b></div>
                                        <div *ngIf="show" class="ui-g-1" style="text-align: right">
                                            <span class="fa fa-trash" style="font-size: 1.2em; cursor: pointer"
                                                (click)="deleteFee(fee.feeCategoryName)"></span>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-12 ui-g-nopad" *ngFor="let property of fee.fee">
                                            <div class="ui-g-12 ui-lg-2 ui-md-2">
                                                <div class="ui-g">
                                                    <div class="ui-g-12"><b>{{property.typeName}}</b></div>
                                                    <div class="ui-g-12"><b>{{property.chargingBasis}}</b></div>
                                                    <div class="ui-g-12">
                                                        <b>{{property.amountOfYear ? property.amountOfYear + ' Year(s)' : ''}}</b>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="ui-g-12 ui-lg-10 ui-md-10">
                                                <table style="width: 100%">
                                                    <tr>
                                                        <td style="width: 15%">
                                                            {{property.yearNo ? 'Year #' + property.yearNo : ''}}
                                                        </td>
                                                        <td style="width: 30%">{{property.parameterType}}</td>
                                                        <td style="width: 25%">Amount:
                                                            {{property.value}}{{property.parameterType !== 'Fixed Amount' ? '%' : ''}}
                                                        </td>
                                                        <td style="width: 30%">
                                                            {{property.minimum ? 'Minimum Amount: ' + property.minimum : ''}}
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <p-footer>
                                <h4 style="text-align: center">This product has listed {{tableFees?.length}} category
                                    fee
                                </h4>
                            </p-footer>
                        </p-dataView>
                    </div>
                    <div class="ui-g-12">
                        <td style="padding-left:5px; padding-top: 5px; float: right">
                            <button pButton label="Next" class="ui-button-primary"
                                style="width: 8em" matStepperNext></button>
                        </td>
                        <td style="padding-top: 5px;">
                            <button pButton label="Back" class="ui-button-secondary" style="width: 8em"
                                matStepperPrevious></button>
                        </td>
                    </div>
                </mat-step>
                <mat-step [stepControl]="fourthFormGroup">
                    <form [formGroup]="fourthFormGroup">
                        <ng-template matStepLabel>Product Knockout</ng-template>

                        <div class="ui-g">
                            <h2>Product Knockout</h2>
                        </div>

                        <div *ngIf="show" class="ui-g-12 ui-lg-6 ui-md-6">

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4">
                                    Product Knockout Category
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8">
                                    <p-autoComplete [suggestions]="filteredKnockout"
                                        (completeMethod)="filterKnockouts($event)" [size]="30" [minLength]="1"
                                        placeholder="Choose knockout category name" [dropdown]="true"
                                        formControlName="knockCategoryName" (onSelect)="getKnockout()">
                                    </p-autoComplete>
                                </div>
                            </div>
                        </div>

                    </form>
                    <div *ngIf="showKnockoutProperty">
                        <div class="ui-g-12">
                            <div class="ui-g" style="padding: 1em; border: 1px solid #d9d9d9">
                                <div class="ui-g-12"><b>{{knockout.knockCategoryName}}</b></div>
                                <div class="ui-g-12">
                                    <table style="width: 70%">
                                        <tr *ngFor="let property of knockout.knock">
                                            <td style="padding: 1em">{{property.attributeCriteria}}
                                            </td>
                                            <td style="padding: 1em">{{property.oprator}}</td>
                                            <td style="padding: 1em">
                                                {{property.value}}
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12">
                            <td style="padding-left:5px; float: right;">
                                <button pButton label="Add" class="ui-button-primary" style="width: 8em"
                                    (click)="addKnockout()"></button>
                            </td>
                        </div>
                    </div>

                    <div class="ui-g-12" style="margin-top: 10px;" *ngIf="showKnockoutProperty">
                        <hr>
                    </div>

                    <div class="ui-g-12">
                        <p-dataView #dvKnockout [value]="tableKnockouts" [paginator]="true" [rows]="rows"
                            filterBy="knockCategoryName" [rowsPerPageOptions]="rowsOptions">
                            <p-header>
                                <div class="ui-helper-clearfix">
                                    <div class="ui-g">
                                        <div class="ui-g-12" style="font-weight: normal">
                                            What are you looking for?
                                        </div>
                                        <div class="ui-g-12 ui-md-6">
                                            <div class="ui-inputgroup">
                                                <input type="search" pInputText
                                                    placeholder="Type keyword search here..."
                                                    [(ngModel)]="searchQueryKnockout">
                                                <button pButton class="ui-button-info" label="Search"
                                                    (click)="dvKnockout.filter(searchQueryKnockout)"
                                                    style="width: 8em"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p-header>
                            <ng-template let-knockout pTemplate="listItem">
                                <div class="ui-g"
                                    style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                    <div class="ui-g-12">
                                        <div class="ui-g-11" style="font-size: medium">
                                            <b>{{knockout.knockCategoryName}}</b></div>
                                        <div *ngIf="show" class="ui-g-1" style="text-align: right">
                                            <span class="fa fa-trash" style="font-size: 1.2em; cursor: pointer"
                                                (click)="deleteKnockout(knockout.knockCategoryName)"></span>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-12 ui-g-nopad" *ngFor="let property of knockout.knock">
                                            <div class="ui-g-12 ui-lg-10 ui-md-10">
                                                <table style="width: 100%">
                                                    <tr>
                                                        <td style="width: 15%">Priority: {{property.priority}}</td>
                                                        <td style="width: 30%">{{property.attributeCriteria}}</td>
                                                        <td style="width: 25%">{{property.oprator}}</td>
                                                        <td style="width: 30%">{{property.value}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <p-footer>
                                <h4 style="text-align: center">This product has listed {{tableKnockouts?.length}}
                                    category knockout
                                </h4>
                            </p-footer>
                        </p-dataView>
                    </div>
                    <div class="ui-g-12">
                        <td style="padding-left:5px; padding-top: 5px; float: right">
                            <button pButton label="Next" class="ui-button-primary"
                                style="width: 8em" matStepperNext></button>
                        </td>
                        <td style="padding-top: 5px;">
                            <button pButton label="Back" class="ui-button-secondary" style="width: 8em"
                                matStepperPrevious></button>
                        </td>
                    </div>
                </mat-step>
                <mat-step [stepControl]="fifthFormGroup">
                    <form [formGroup]="fifthFormGroup">
                        <ng-template matStepLabel>Product Document</ng-template>

                        <div class="ui-g">
                            <h2>Product Document</h2>
                        </div>

                        <div *ngIf="show" class="ui-g-12 ui-lg-6 ui-md-6">

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4">
                                    Product Document Category
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8">
                                    <p-autoComplete [suggestions]="filteredDocument"
                                        (completeMethod)="filterDocuments($event)" [size]="30" [minLength]="1"
                                        placeholder="Choose document category name" [dropdown]="true"
                                        formControlName="documentCategoryName" (onSelect)="getDocument()">
                                    </p-autoComplete>
                                </div>
                            </div>
                        </div>

                    </form>
                    <div *ngIf="showDocumentProperty">
                        <div class="ui-g-12">
                            <div class="ui-g" style="padding: 1em; border: 1px solid #d9d9d9">
                                <div class="ui-g-12"><b>{{document.documentCategoryName}}</b></div>
                                <div class="ui-g-12">
                                    <table style="width: 50%">
                                        <tr *ngFor="let property of document.document">
                                            <td style="padding: 1em">{{property.type}}
                                            </td>
                                            <td style="padding: 1em">
                                                {{property.isMandatory ? 'Mandatory' : 'Additional'}}
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12">
                            <td style="padding-left:5px; float: right;">
                                <button pButton label="Add" class="ui-button-primary" style="width: 8em"
                                    (click)="addDocument()"></button>
                            </td>
                        </div>
                    </div>

                    <div class="ui-g-12" style="margin-top: 10px;" *ngIf="showDocumentProperty">
                        <hr>
                    </div>

                    <div class="ui-g-12">
                        <p-dataView #dvDoc [value]="tableDocuments" [paginator]="true" [rows]="rows"
                            filterBy="docuCateName" [rowsPerPageOptions]="rowsOptions">
                            <p-header>
                                <div class="ui-helper-clearfix">
                                    <div class="ui-g">
                                        <div class="ui-g-12" style="font-weight: normal">
                                            What are you looking for?
                                        </div>
                                        <div class="ui-g-12 ui-md-6">
                                            <div class="ui-inputgroup">
                                                <input type="search" pInputText
                                                    placeholder="Type keyword search here..."
                                                    [(ngModel)]="searchQueryDocument">
                                                <button pButton class="ui-button-info" label="Search"
                                                    (click)="dvDoc.filter(searchQueryDocument)"
                                                    style="width: 8em"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p-header>
                            <ng-template let-document pTemplate="listItem">
                                <div class="ui-g"
                                    style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                    <div class="ui-g-12">
                                        <div class="ui-g-11" style="font-size: medium">
                                            <b>{{document.documentCategoryName}}</b></div>
                                        <div class="ui-g-1" style="text-align: right">
                                            <span *ngIf="show" class="fa fa-trash" style="font-size: 1.2em; cursor: pointer"
                                                (click)="deleteDocument(document.documentCategoryName)"></span>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-12 ui-g-nopad" *ngFor="let property of document.document">
                                            <div class="ui-g-12 ui-lg-10 ui-md-10">
                                                <table style="width: 100%">
                                                    <tr>
                                                        <td style="width: 25%">{{property.type}}</td>
                                                        <td style="width: 60%">{{property.description}}</td>
                                                        <td style="width: 15%">
                                                            {{property.isMandatory ? 'Mandatory' : 'Additional'}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <p-footer>
                                <h4 style="text-align: center">This product has listed {{tableDocuments?.length}}
                                    category document
                                </h4>
                            </p-footer>
                        </p-dataView>
                    </div>
                    <div class="ui-g-12">
                        <td style="padding-left:5px; padding-top: 5px; float: right">
                            <button pButton label="Next" class="ui-button-primary"
                                style="width: 8em" matStepperNext></button>
                        </td>
                        <td style="padding-top: 5px;">
                            <button pButton label="Back" class="ui-button-secondary" style="width: 8em"
                                matStepperPrevious></button>
                        </td>
                    </div>
                </mat-step>

                <mat-step *ngIf="show">
                    <ng-template matStepLabel>Product Summary</ng-template>
                    <div *ngIf="summaryAvailable">
                        <div class="ui-g-12">
                            <h2>Product Information</h2>
                        </div>

                        <div class="ui-g-12 ui-lg-6 ui-md-6">
                            <!-- <div class="ui-g-12"> -->
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Product Name
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="text" placeholder="Product name"
                                        [(ngModel)]="product.productName" disabled>
                                </div>
                            </div>

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Product Type
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="text" placeholder="Product type"
                                        [(ngModel)]="product.productType" disabled>
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Description
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="text" placeholder="Product description"
                                        [(ngModel)]="product.description" disabled>
                                </div>
                            </div>
                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Valid Date
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8  ui-g-nopad">
                                    <div class="ui-g-12 ui-lg-5 ui-md-5 form-field">
                                        <input pInputText type="text" placeholder="Start date" [(ngModel)]="startDate"
                                            disabled>
                                    </div>
                                    <div class="ui-g-12 ui-lg-2 ui-md-2 form-field"
                                        style="margin-top: 3px; text-align: center; font-size: large">
                                        -
                                    </div>
                                    <div class="ui-g-12 ui-lg-5 ui-md-5 form-field">
                                        <input pInputText type="text" placeholder="End date" [(ngModel)]="endDate"
                                            disabled>
                                    </div>
                                </div>
                            </div>

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4 form-field">
                                    Priority
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8 form-field">
                                    <input pInputText type="number" placeholder="Priority"
                                        [(ngModel)]="product.priority" disabled>
                                </div>
                            </div>

                            <div class="ui-g-12 ui-g-nopad">
                                <div class="ui-g-4 ui-lg-4 ui-md-4">
                                    Is Active
                                </div>
                                <div class="ui-g-8 ui-lg-8 ui-md-8">
                                    <ui-switch checkedLabel="Yes" uncheckedLabel="No" size="small"
                                        [(ngModel)]="product.isActive" color="#007bff" disabled
                                        [ngStyle]="{'color': firstFormGroup.get('isActive').value ? 'white' : '#333'}">
                                    </ui-switch>
                                </div>
                            </div>
                        </div>

                        <div class="ui-g-12" style="margin-top: 10px;" *ngIf="showKnockoutProperty">
                            <hr>
                        </div>

                        <div class="ui-g-12">
                            <h2>Product Parameter</h2>
                        </div>

                        <div class="ui-g-12">
                            <p-dataView #dvP [value]="tableParameters" [paginator]="true" [rows]="10"
                                [rowsPerPageOptions]="[10,25,50]">
                                <ng-template let-parameter let-ri="rowIndex" pTemplate="listItem">
                                    <div class="ui-g"
                                        style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                        <div class="ui-g-12 ui-lg-2 ui-md-2" style="text-align: center">
                                            <div class="ui-g">
                                                <div class="ui-g-12"><b>#{{ri + 1}}</b></div>
                                            </div>
                                        </div>
                                        <div class="ui-g-12 ui-lg-8 ui-md-8">
                                            <div class="ui-g-4">
                                                Amount:
                                                {{parameter['minAmount'] | currency:'IDR':'symbol-narrow':'1.2-2':'id-ID'}}-{{parameter['maxAmount'] | currency:'IDR':'symbol-narrow':'1.2-2':'id-ID'}}
                                            </div>
                                            <div class="ui-g-4">
                                                Tenor: {{parameter['minTenor']}}-{{parameter['maxTenor']}} Month
                                            </div>
                                            <div class="ui-g-4">
                                                Interest Rate: {{parameter['interestRate']}}%
                                            </div>
                                        </div>
                                        <div class="ui-g-12 ui-md-2">
                                            <div class="ui-g" style="text-align: center">
                                                <div class="ui-g-12">
                                                    <b>{{parameter.isActive ? 'Active' : 'Inactive'}}</b>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                                <p-footer>
                                    <h4 style="text-align: center">This product has listed
                                        {{tableParameters?.length}} parameter</h4>
                                </p-footer>
                            </p-dataView>
                        </div>

                        <div class="ui-g-12">
                            <h2>Product Fee</h2>
                        </div>

                        <div class="ui-g-12">
                            <p-dataView #dvF [value]="tableFees" [paginator]="true" [rows]="rows"
                                [rowsPerPageOptions]="rowsOptions">
                                <ng-template let-fee pTemplate="listItem">
                                    <div class="ui-g"
                                        style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                        <div class="ui-g-12">
                                            <div class="ui-g-12" style="font-size: medium">
                                                <b>{{fee.feeCategoryName}}</b></div>
                                        </div>
                                        <div class="ui-g-12">
                                            <div class="ui-g-12 ui-g-nopad" *ngFor="let property of fee.fee">
                                                <div class="ui-g-12 ui-lg-2 ui-md-2">
                                                    <div class="ui-g">
                                                        <div class="ui-g-12"><b>{{property.typeName}}</b></div>
                                                        <div class="ui-g-12"><b>{{property.chargingBasis}}</b></div>
                                                        <div class="ui-g-12">
                                                            <b>{{property.amountOfYear ? property.amountOfYear + ' Year(s)' : ''}}</b>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="ui-g-12 ui-lg-10 ui-md-10">
                                                    <table style="width: 100%">
                                                        <tr>
                                                            <td style="width: 15%">
                                                                {{property.yearNo ? 'Year #' + property.yearNo : ''}}
                                                            </td>
                                                            <td style="width: 30%">{{property.parameterType}}</td>
                                                            <td style="width: 25%">Amount:
                                                                {{property.value}}{{property.parameterType !== 'Fixed Amount' ? '%' : ''}}
                                                            </td>
                                                            <td style="width: 30%">
                                                                {{property.minimum ? 'Minimum Amount: ' + property.minimum : ''}}
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                                <p-footer>
                                    <h4 style="text-align: center">This product has listed {{tableFees?.length}}
                                        category
                                        fee
                                    </h4>
                                </p-footer>
                            </p-dataView>
                        </div>

                        <div class="ui-g-12">
                            <h2>Product Knockout</h2>
                        </div>

                        <div class="ui-g-12">
                            <p-dataView #dvK [value]="tableKnockouts" [paginator]="true" [rows]="rows"
                                [rowsPerPageOptions]="rowsOptions">
                                <ng-template let-knockout pTemplate="listItem">
                                    <div class="ui-g"
                                        style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                        <div class="ui-g-12">
                                            <div class="ui-g-12" style="font-size: medium">
                                                <b>{{knockout.knockCategoryName}}</b></div>
                                        </div>
                                        <div class="ui-g-12">
                                            <div class="ui-g-12 ui-g-nopad" *ngFor="let property of knockout.knock">
                                                <div class="ui-g-12 ui-lg-10 ui-md-10">
                                                    <table style="width: 100%">
                                                        <tr>
                                                            <td style="width: 15%">Priority: {{property.priority}}</td>
                                                            <td style="width: 30%">{{property.attributeCriteria}}</td>
                                                            <td style="width: 25%">{{property.oprator}}</td>
                                                            <td style="width: 30%">{{property.value}}</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                                <p-footer>
                                    <h4 style="text-align: center">This product has listed {{tableKnockouts?.length}}
                                        category knockout
                                    </h4>
                                </p-footer>
                            </p-dataView>
                        </div>

                        <div class="ui-g-12">
                            <h2>Product Document</h2>
                        </div>

                        <div class="ui-g-12">
                            <p-dataView #dvD [value]="tableDocuments" [paginator]="true" [rows]="rows"
                                [rowsPerPageOptions]="rowsOptions">
                                <ng-template let-document pTemplate="listItem">
                                    <div class="ui-g"
                                        style="padding-top: 1em; padding-bottom: 1em; border-bottom: 1px solid #d9d9d9">
                                        <div class="ui-g-12">
                                            <div class="ui-g-12" style="font-size: medium">
                                                <b>{{document.documentCategoryName}}</b></div>
                                        </div>
                                        <div class="ui-g-12">
                                            <div class="ui-g-12 ui-g-nopad" *ngFor="let property of document.document">
                                                <div class="ui-g-12 ui-lg-10 ui-md-10">
                                                    <table style="width: 100%">
                                                        <tr>
                                                            <td style="width: 25%">{{property.type}}</td>
                                                            <td style="width: 60%">{{property.description}}</td>
                                                            <td style="width: 15%">
                                                                {{property.isMandatory ? 'Mandatory' : 'Additional'}}
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                                <p-footer>
                                    <h4 style="text-align: center">This product has listed {{tableDocuments?.length}}
                                        category document
                                    </h4>
                                </p-footer>
                            </p-dataView>
                        </div>
                        <div class="ui-g-12">
                            <td style="padding-top: 5px;">
                                <button pButton label="Back" class="ui-button-secondary" style="width: 8em"
                                    matStepperPrevious></button>
                            </td>
                        </div>
                    </div>
                </mat-step>
            </mat-horizontal-stepper>
        </div>
    </div>
</div>